<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dream.mapper.BigWithdrawalsMapper">

<resultMap id="BigWithDrawalsMapper" type="BigWithDrawals">
<id property="bwId" column="BWid"></id>
<result property="money" column="Money" />
<result property="bwTime" column="BWtime" />
<result property="bwState" column="BWstate" />
<association property="bwRespinsibility" javaType="com.dream.pojo.User">
   <id property="uId" column="Uid"></id>
    <result property="uName" column="Uname"></result>
     <result property="uSex" column="Usex"></result>
      <result property="uPhone" column="Upassword"></result>
        <result property="ymId" column="YMid"></result>
</association>
<association property="user" javaType="com.dream.pojo.User">
   <id property="uId" column="Uid"></id>
    <result property="uName" column="Uname"></result>
     <result property="uSex" column="Usex"></result>
      <result property="uPhone" column="Upassword"></result>
        <result property="ymId" column="YMid"></result>
</association>
</resultMap>

<!-- 后台进行申请表修改 -->
<update id="updateapply" parameterType="BigWithDrawals">
update  BigWithDrawals set BWstate=#{bwState} , BWresponsibility=#{bwRespinsibility.uId} where BWid=#{bwId}
</update>

<!-- 后台查询所有申请表 -->
<select id="queryallapply" resultMap="BigWithDrawalsMapper">
select * from BigWithDrawals a,user u ,user u1  where u.uId=a.uId and u1.uId=a.BWresponsibility
</select>
<!-- app请求提现操作 -->
<insert id ="insertbwd" parameterType="BigWithDrawals">
insert into BigWithDrawals values(#{bwId},#{money},#{bwTime},#{bwState},#{user.uId},null)
</insert>
</mapper>