<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dream.mapper.VideoMapper">
<resultMap id="VideoProviderRequestMapper" type="VideoProviderRequest">
<id property="vprId" column="VPRid"></id>
<result property="uId" column="Uid" />
<result property="vprState" column="VPRstate" />
<result property="vprResponsibility" column="VPRresponsibility" />
<result property="vprName" column="VPRname" />
<association property="user" javaType="com.dream.pojo.User">
   <id property="uId" column="Uid"></id>
    <result property="uName" column="Uname"></result>
     <result property="uSex" column="Usex"></result>
      <result property="uPhone" column="Uphone"></result>
        <result property="ymId" column="YMid"></result>
</association>
</resultMap>

<!-- 后台修改申请表 -->
<update id="updateVideoapply" parameterType="VideoProviderRequest">
update videoproviderrequest  set VPRresponsibility=#{vprResponsibility.uId} ,vprstate=#{vprState} where vprid=#{vprId} 
</update>
<!-- 后台查询所有申请表 -->
<select id="queryallapply" resultMap="VideoProviderRequestMapper">
select * from videoproviderrequest v,user u,user u1 where v.Uid=u1.Uid  and v.VPRresponsibility=u.Uid
</select>
<!-- app请求申请为视频创作者 -->
<insert id="insertVRP" parameterType="VideoProviderRequest">
insert into VideoProviderRequest values(#{vprId},#{vprState},#{uId},null)
</insert>
</mapper>